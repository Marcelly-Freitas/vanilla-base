import"./index-Ckh9VWKK.js";import{u as S}from"./useDOMManager-kq_JSqPb.js";import{f as v}from"./frequencyEntity.service-C-dWmfOu.js";import"./useLocalstorage-BtQVKKxs.js";let q=!1;async function L(){q=!0;const{createSimpleFrequencyListList:l}=S(),a=document.querySelector(".consultar-frequencia .consultar-frequencia-search-form"),c=document.querySelector(".consultar-frequencia .consultar-frequencia_wrapper"),d=document.querySelector(".consultar-frequencia .lista-wrapper"),n=document.querySelector(".consultar-frequencia .consultar-frequencia_empty");a&&c&&a.addEventListener("submit",async h=>{if(h.preventDefault(),document.querySelector(".loading"))return!1;const u=a.querySelector("input[type=search]");if(u){const p=u.value;p.length&&(async()=>{n.innerHTML="",d.innerHTML="",c.classList.add("hidden"),n.classList.remove("hidden");const s=document.createElement("div");s.classList.add("loading"),s.innerHTML="Carregando...",n.append(s);const f=document.createElement("h3");f.textContent="Utilize a pesquisa acima para encontrar aluno";const{data:g}=await v.getAll(),i=[...g].filter(r=>r.aluno_cpf==p);if(!i.length)alert("Nenhum resultado encontrado"),n.innerHTML="",n.append(f);else{const r=[...i].reduce((t,o)=>(t=o.aluno_name,t),""),m=document.querySelector(".consultar-frequencia .nome_aluno");m.innerHTML="",m.textContent="Aluno: "+r;const y=l(i);y.querySelectorAll("li").forEach(t=>{const o=t.querySelector(".actions"),M=t.getAttribute("data-status");let e=document.createElement("div");switch(M){case"P":{e.classList.add("icon"),e.classList.add("icon-success"),e.innerHTML='<span class="iconify-inline" data-icon="ic:baseline-check"></span>';break}case"F":{e.classList.add("icon"),e.classList.add("icon-danger"),e.innerHTML='<span class="iconify-inline" data-icon="ic:twotone-close"></span>';break}default:{e.classList.add("icon"),e.classList.add("icon-default"),e.innerHTML='<span class="iconify-inline" data-icon="ic:baseline-edit-note"></span>';break}}o.appendChild(e)}),d.appendChild(y),c.classList.remove("hidden"),n.classList.add("hidden"),n.innerHTML=""}})()}})}const A={init(){L(),window.addEventListener("changepage",function(l){q||L()})}};export{A as default};
