import{s as c}from"./studentEntityService.service-Ci6a9HR0.js";import{n as l,a as d}from"./index-Ckh9VWKK.js";import{f as b}from"./index-xJp9Kd2E.js";import"./useLocalstorage-BtQVKKxs.js";function n(e,i=!0){if(e){const a=e.querySelectorAll("input, select"),o=e.querySelector("button[type=submit]"),t=e.querySelector("button[type=button]");i?(a.forEach(s=>{s.setAttribute("disabled","disabled")}),o.setAttribute("disabled","disabled"),o.textContent="Carregando...",t.setAttribute("disabled","disabled")):(a.forEach(s=>{s.removeAttribute("disabled")}),o.removeAttribute("disabled"),o.textContent="Atualizar",t.removeAttribute("disabled"))}}async function m(e){e.preventDefault();const i=document.querySelector(".form-cadastro-aluno"),a=i.querySelectorAll("input, select"),{showNotification:o}=d();if(n(i),a){const t={};a.forEach(s=>{const u=s.getAttribute("name"),r=s.value;t[u]=r}),t.id=b.string.uuid(),t.created_at=new Date().toISOString(),t.active=!0,await c.create(t),o({type:"success",title:"Sucesso",message:"Dados cadastrados com sucesso"}),l(null,"/aluno/lista"),n(i,!1)}}const A={init(){window.onFormSubmit=null,window.onFormSubmit=m}};export{A as default};
